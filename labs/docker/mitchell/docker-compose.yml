version: '3.8'

services:
  mitchell:
    build: .
    container_name: ${CONTAINER_NAME:-mitchell}
    ports:
      - "${HOST_PORT_TOMCAT:-9090}:9090"
      - "${HOST_PORT_FAKE:-8080}:8080"
    environment:
      - USER_FLAG=${USER_FLAG}
      - ROOT_FLAG=${ROOT_FLAG}
    networks:
      - ctf_net
    privileged: false
    restart: unless-stopped

networks:
  ctf_net:
    external: true
    name: ctf_net
